## 保活的原理

目前可以用的一些策略：

1. 账号拉活
2. 无声音乐
3. 多进程守护
4. 文件锁



### 文件锁

我们想要做保活的一个核心就是，一个 app 当中几个进程能够，能够抱团，如果只有一个进程，无论这个进程的优先级多高，只要不是系统级别的进程，总会有被杀死的一天，多个进程的目的就是，死亡感知，就好像玩游戏一样，当我们的一个队友被杀死了，其他的队友能够马上知道，并且马上将这个这个进程拉起来，互相拉活，就能够保证这个程序能够一直活下去		

​			

那么很简单，如何才能够做到，关键就在于如何感知其他的进程死亡了？

原理很简单，就是通过，Linux 的文件锁的机制，一个进程给一个文件加上一个，进程锁，当其他的进程想要访问这个文件的时候，就会先看看这个文件锁是不是还存在，如果，存在就表示这个进程还活着。但是如果这个锁已经不在了，能够随意的访问这个文件了，那么就说明，这个进程已经死亡，需要拉起来。

​				





























